!function(a,b,c){"use strict";function W(c){if(h=b.documentElement,i=b.body,S(),ub=this,c=c||{},Bb=c.constants||{},c.easing)for(var d in c.easing)V[d]=c.easing[d];Pb=c.edgeStrategy||"set",xb={beforerender:c.beforerender,render:c.render,keyframe:c.keyframe},yb=c.forceHeight!==!1,yb&&(Ab=c.scale||1),Cb=c.mobileDeceleration||x,Kb=c.smoothScrolling!==!1,Lb=c.smoothScrollingDuration||z,Mb={targetTop:ub.getScrollTop()},Qb=(c.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||a.opera)})(),Qb?(wb=b.getElementById(c.skrollrBody||y),wb&&gb(),X(),pb(h,[r,u],[s])):pb(h,[r,t],[s]),ub.refresh(),hb(a,"resize orientationchange",function(){var a=h.clientWidth,b=h.clientHeight;(b!==Hb||a!==Gb)&&(Hb=b,Gb=a,Ib=!0)});var e=T();return function f(){$(),Ub=e(f)}(),ub}var h,i,d={get:function(){return ub},init:function(a){return ub||new W(a)},VERSION:"0.6.30"},e=Object.prototype.hasOwnProperty,f=a.Math,g=a.getComputedStyle,j="touchstart",k="touchmove",l="touchcancel",m="touchend",n="skrollable",o=n+"-before",p=n+"-between",q=n+"-after",r="skrollr",s="no-"+r,t=r+"-desktop",u=r+"-mobile",v="linear",w=1e3,x=.004,y="skrollr-body",z=200,A="start",B="end",C="center",D="bottom",E="___skrollable_id",F=/^(?:input|textarea|button|select)$/i,G=/^\s+|\s+$/g,H=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,I=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,J=/^(@?[a-z\-]+)\[(\w+)\]$/,K=/-([a-z0-9_])/g,L=function(a,b){return b.toUpperCase()},M=/[\-+]?[\d]*\.?[\d]+/g,N=/\{\?\}/g,O=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,P=/[a-z\-]+-gradient/g,Q="",R="",S=function(){var a=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(g){var b=g(i,null);for(var c in b)if(Q=c.match(a)||+c==c&&b[c].match(a))break;if(!Q)return void(Q=R="");Q=Q[0],"-"===Q.slice(0,1)?(R=Q,Q={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[Q]):R="-"+Q.toLowerCase()+"-"}},T=function(){var b=a.requestAnimationFrame||a[Q.toLowerCase()+"RequestAnimationFrame"],c=sb();return(Qb||!b)&&(b=function(b){var d=sb()-c,e=f.max(0,1e3/60-d);return a.setTimeout(function(){c=sb(),b()},e)}),b},U=function(){var b=a.cancelAnimationFrame||a[Q.toLowerCase()+"CancelAnimationFrame"];return(Qb||!b)&&(b=function(b){return a.clearTimeout(b)}),b},V={begin:function(){return 0},end:function(){return 1},linear:function(a){return a},quadratic:function(a){return a*a},cubic:function(a){return a*a*a},swing:function(a){return-f.cos(a*f.PI)/2+.5},sqrt:function(a){return f.sqrt(a)},outCubic:function(a){return f.pow(a-1,3)+1},bounce:function(a){var b;if(a<=.5083)b=3;else if(a<=.8489)b=9;else if(a<=.96208)b=27;else{if(!(a<=.99981))return 1;b=91}return 1-f.abs(3*f.cos(a*b*1.028)/b)}};W.prototype.refresh=function(a){var d,e,f=!1;for(a===c?(f=!0,vb=[],Ob=0,a=b.getElementsByTagName("*")):a.length===c&&(a=[a]),d=0,e=a.length;d<e;d++){var g=a[d],h=g,i=[],j=Kb,k=Pb,l=!1;if(f&&E in g&&delete g[E],g.attributes){for(var m=0,o=g.attributes.length;m<o;m++){var p=g.attributes[m];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name)if("data-edge-strategy"!==p.name)if("data-emit-events"!==p.name){var q=p.name.match(H);if(null!==q){var r={props:p.value,element:g,eventType:p.name.replace(K,L)};i.push(r);var s=q[1];s&&(r.constant=s.substr(1));var t=q[2];/p$/.test(t)?(r.isPercentage=!0,r.offset=(0|t.slice(0,-1))/100):r.offset=0|t;var u=q[3],v=q[4]||u;u&&u!==A&&u!==B?(r.mode="relative",r.anchors=[u,v]):(r.mode="absolute",u===B?r.isEnd=!0:r.isPercentage||(r.offset=r.offset*Ab))}}else l=!0;else k=p.value;else j="off"!==p.value;else if(h=b.querySelector(p.value),null===h)throw'Unable to find anchor target "'+p.value+'"'}if(i.length){var w,x,y;!f&&E in g?(y=g[E],w=vb[y].styleAttr,x=vb[y].classAttr):(y=g[E]=Ob++,w=g.style.cssText,x=ob(g)),vb[y]={element:g,styleAttr:w,classAttr:x,anchorTarget:h,keyFrames:i,smoothScrolling:j,edgeStrategy:k,emitEvents:l,lastFrameIndex:-1},pb(g,[n],[])}}}for(lb(),d=0,e=a.length;d<e;d++){var z=vb[a[d][E]];z!==c&&(_(z),bb(z))}return ub},W.prototype.relativeToAbsolute=function(a,b,c){var d=h.clientHeight,e=a.getBoundingClientRect(),f=e.top,g=e.bottom-e.top;return b===D?f-=d:b===C&&(f-=d/2),c===D?f+=g:c===C&&(f+=g/2),f+=ub.getScrollTop(),f+.5|0},W.prototype.animateTo=function(a,b){b=b||{};var d=sb(),e=ub.getScrollTop(),f=b.duration===c?w:b.duration;return Jb={startTop:e,topDiff:a-e,targetTop:a,duration:f,startTime:d,endTime:d+f,easing:V[b.easing||v],done:b.done},Jb.topDiff||(Jb.done&&Jb.done.call(ub,!1),Jb=c),ub},W.prototype.stopAnimateTo=function(){Jb&&Jb.done&&Jb.done.call(ub,!0),Jb=c},W.prototype.isAnimatingTo=function(){return!!Jb},W.prototype.isMobile=function(){return Qb},W.prototype.setScrollTop=function(b,c){return Nb=c===!0,Qb?Rb=f.min(f.max(b,0),zb):a.scrollTo(0,b),ub},W.prototype.getScrollTop=function(){return Qb?Rb:a.pageYOffset||h.scrollTop||i.scrollTop||0},W.prototype.getMaxScrollTop=function(){return zb},W.prototype.on=function(a,b){return xb[a]=b,ub},W.prototype.off=function(a){return delete xb[a],ub},W.prototype.destroy=function(){var a=U();a(Ub),jb(),pb(h,[s],[r,t,u]);for(var b=0,e=vb.length;b<e;b++)fb(vb[b].element);h.style.overflow=i.style.overflow="",h.style.height=i.style.height="",wb&&d.setStyle(wb,"transform","none"),ub=c,wb=c,xb=c,yb=c,zb=0,Ab=1,Bb=c,Cb=c,Db="down",Eb=-1,Gb=0,Hb=0,Ib=!1,Jb=c,Kb=c,Lb=c,Mb=c,Nb=c,Ob=0,Pb=c,Qb=!1,Rb=0,Sb=c};var X=function(){var d,e,g,n,o,p,q,r,s,t,u,v;hb(h,[j,k,l,m].join(" "),function(a){var h=a.changedTouches[0];for(n=a.target;3===n.nodeType;)n=n.parentNode;switch(o=h.clientY,p=h.clientX,t=a.timeStamp,F.test(n.tagName)||a.preventDefault(),a.type){case j:d&&d.blur(),ub.stopAnimateTo(),d=n,e=q=o,g=p,s=t;break;case k:F.test(n.tagName)&&b.activeElement!==n&&a.preventDefault(),r=o-q,v=t-u,ub.setScrollTop(Rb-r,!0),q=o,u=t;break;default:case l:case m:var i=e-o,w=g-p,x=w*w+i*i;if(x<49){if(!F.test(d.tagName)){d.focus();var y=b.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,a.view,1,h.screenX,h.screenY,h.clientX,h.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d.dispatchEvent(y)}return}d=c;var z=r/v;z=f.max(f.min(z,3),-3);var A=f.abs(z/Cb),B=z*A+.5*Cb*A*A,C=ub.getScrollTop()-B,D=0;C>zb?(D=(zb-C)/B,C=zb):C<0&&(D=-C/B,C=0),A*=1-D,ub.animateTo(C+.5|0,{easing:"outCubic",duration:A})}}),a.scrollTo(0,0),h.style.overflow=i.style.overflow="hidden"},Y=function(){var c,d,e,g,i,j,k,l,m,n,o,a=h.clientHeight,b=mb();for(l=0,m=vb.length;l<m;l++)for(c=vb[l],d=c.element,e=c.anchorTarget,g=c.keyFrames,i=0,j=g.length;i<j;i++)k=g[i],n=k.offset,o=b[k.constant]||0,k.frame=n,k.isPercentage&&(n*=a,k.frame=n),"relative"===k.mode&&(fb(d),k.frame=ub.relativeToAbsolute(e,k.anchors[0],k.anchors[1])-n,fb(d,!0)),k.frame+=o,yb&&!k.isEnd&&k.frame>zb&&(zb=k.frame);for(zb=f.max(zb,nb()),l=0,m=vb.length;l<m;l++){for(c=vb[l],g=c.keyFrames,i=0,j=g.length;i<j;i++)k=g[i],o=b[k.constant]||0,k.isEnd&&(k.frame=zb-k.offset+o);c.keyFrames.sort(tb)}},Z=function(a,b){for(var c=0,f=vb.length;c<f;c++){var w,x,g=vb[c],h=g.element,i=g.smoothScrolling?a:b,j=g.keyFrames,k=j.length,l=j[0],m=j[j.length-1],r=i<l.frame,s=i>m.frame,t=r?l:m,u=g.emitEvents,v=g.lastFrameIndex;if(r||s){if(r&&-1===g.edge||s&&1===g.edge)continue;switch(r?(pb(h,[o],[q,p]),u&&v>-1&&(kb(h,l.eventType,Db),g.lastFrameIndex=-1)):(pb(h,[q],[o,p]),u&&v<k&&(kb(h,m.eventType,Db),g.lastFrameIndex=k)),g.edge=r?-1:1,g.edgeStrategy){case"reset":fb(h);continue;case"ease":i=t.frame;break;default:case"set":var y=t.props;for(w in y)e.call(y,w)&&(x=eb(y[w].value),0===w.indexOf("@")?h.setAttribute(w.substr(1),x):d.setStyle(h,w,x));continue}}else 0!==g.edge&&(pb(h,[n,p],[o,q]),g.edge=0);for(var z=0;z<k-1;z++)if(i>=j[z].frame&&i<=j[z+1].frame){var A=j[z],B=j[z+1];for(w in A.props)if(e.call(A.props,w)){var C=(i-A.frame)/(B.frame-A.frame);C=A.props[w].easing(C),x=db(A.props[w].value,B.props[w].value,C),x=eb(x),0===w.indexOf("@")?h.setAttribute(w.substr(1),x):d.setStyle(h,w,x)}u&&v!==z&&("down"===Db?kb(h,A.eventType,Db):kb(h,B.eventType,Db),g.lastFrameIndex=z);break}}},$=function(){Ib&&(Ib=!1,lb());var b,f,a=ub.getScrollTop(),e=sb();if(Jb)e>=Jb.endTime?(a=Jb.targetTop,b=Jb.done,Jb=c):(f=Jb.easing((e-Jb.startTime)/Jb.duration),a=Jb.startTop+f*Jb.topDiff|0),ub.setScrollTop(a,!0);else if(!Nb){var g=Mb.targetTop-a;g&&(Mb={startTop:Eb,topDiff:a-Eb,targetTop:a,startTime:Fb,endTime:Fb+Lb}),e<=Mb.endTime&&(f=V.sqrt((e-Mb.startTime)/Lb),a=Mb.startTop+f*Mb.topDiff|0)}if(Nb||Eb!==a){Db=a>Eb?"down":a<Eb?"up":Db,Nb=!1;var h={curTop:a,lastTop:Eb,maxTop:zb,direction:Db},i=xb.beforerender&&xb.beforerender.call(ub,h);i!==!1&&(Z(a,ub.getScrollTop()),Qb&&wb&&d.setStyle(wb,"transform","translate(0, "+-Rb+"px) "+Sb),Eb=a,xb.render&&xb.render.call(ub,h)),b&&b.call(ub,!1)}Fb=e},_=function(a){for(var b=0,c=a.keyFrames.length;b<c;b++){for(var e,f,g,i,d=a.keyFrames[b],h={};null!==(i=I.exec(d.props));)g=i[1],f=i[2],e=g.match(J),null!==e?(g=e[1],e=e[2]):e=v,f=f.indexOf("!")?ab(f):[f.slice(1)],h[g]={value:f,easing:V[e]};d.props=h}},ab=function(a){var b=[];return O.lastIndex=0,a=a.replace(O,function(a){return a.replace(M,function(a){return a/255*100+"%"})}),R&&(P.lastIndex=0,a=a.replace(P,function(a){return R+a})),a=a.replace(M,function(a){return b.push(+a),"{?}"}),b.unshift(a),b},bb=function(a){var c,d,b={};for(c=0,d=a.keyFrames.length;c<d;c++)cb(a.keyFrames[c],b);for(b={},c=a.keyFrames.length-1;c>=0;c--)cb(a.keyFrames[c],b)},cb=function(a,b){var c;for(c in b)e.call(a.props,c)||(a.props[c]=b[c]);for(c in a.props)b[c]=a.props[c]},db=function(a,b,c){var d,e=a.length;if(e!==b.length)throw"Can't interpolate between \""+a[0]+'" and "'+b[0]+'"';var f=[a[0]];for(d=1;d<e;d++)f[d]=a[d]+(b[d]-a[d])*c;return f},eb=function(a){var b=1;return N.lastIndex=0,a[0].replace(N,function(){return a[b++]})},fb=function(a,b){a=[].concat(a);for(var c,d,e=0,f=a.length;e<f;e++)d=a[e],c=vb[d[E]],c&&(b?(d.style.cssText=c.dirtyStyleAttr,pb(d,c.dirtyClassAttr)):(c.dirtyStyleAttr=d.style.cssText,c.dirtyClassAttr=ob(d),d.style.cssText=c.styleAttr,pb(d,c.classAttr)))},gb=function(){Sb="translateZ(0)",d.setStyle(wb,"transform",Sb);var a=g(wb),b=a.getPropertyValue("transform"),c=a.getPropertyValue(R+"transform"),e=b&&"none"!==b||c&&"none"!==c;e||(Sb="")};d.setStyle=function(a,b,c){var d=a.style;if(b=b.replace(K,L).replace("-",""),"zIndex"===b)d[b]=isNaN(c)?c:""+(0|c);else if("float"===b)d.styleFloat=d.cssFloat=c;else try{Q&&(d[Q+b.slice(0,1).toUpperCase()+b.slice(1)]=c),d[b]=c}catch(e){}};var ub,vb,wb,xb,yb,Bb,Cb,Jb,Kb,Lb,Mb,Nb,Pb,Sb,Ub,hb=d.addEvent=function(b,c,d){var e=function(b){return b=b||a.event,b.target||(b.target=b.srcElement),b.preventDefault||(b.preventDefault=function(){b.returnValue=!1,b.defaultPrevented=!0}),d.call(this,b)};c=c.split(" ");for(var f,g=0,h=c.length;g<h;g++)f=c[g],b.addEventListener?b.addEventListener(f,d,!1):b.attachEvent("on"+f,e),Tb.push({element:b,name:f,listener:d})},ib=d.removeEvent=function(a,b,c){b=b.split(" ");for(var d=0,e=b.length;d<e;d++)a.removeEventListener?a.removeEventListener(b[d],c,!1):a.detachEvent("on"+b[d],c)},jb=function(){for(var a,b=0,c=Tb.length;b<c;b++)a=Tb[b],ib(a.element,a.name,a.listener);Tb=[]},kb=function(a,b,c){xb.keyframe&&xb.keyframe.call(ub,a,b,c)},lb=function(){var a=ub.getScrollTop();zb=0,yb&&!Qb&&(i.style.height=""),Y(),yb&&!Qb&&(i.style.height=zb+h.clientHeight+"px"),Qb?ub.setScrollTop(f.min(ub.getScrollTop(),zb)):ub.setScrollTop(a,!0),Nb=!0},mb=function(){var c,d,a=h.clientHeight,b={};for(c in Bb)d=Bb[c],"function"===typeof d?d=d.call(ub):/p$/.test(d)&&(d=d.slice(0,-1)/100*a),b[c]=d;return b},nb=function(){var b,a=0;return wb&&(a=f.max(wb.offsetHeight,wb.scrollHeight)),b=f.max(a,i.scrollHeight,i.offsetHeight,h.scrollHeight,h.offsetHeight,h.clientHeight),b-h.clientHeight},ob=function(b){var c="className";return a.SVGElement&&b instanceof a.SVGElement&&(b=b[c],c="baseVal"),b[c]},pb=function(b,d,e){var f="className";if(a.SVGElement&&b instanceof a.SVGElement&&(b=b[f],f="baseVal"),e===c)return void(b[f]=d);for(var g=b[f],h=0,i=e.length;h<i;h++)g=rb(g).replace(rb(e[h])," ");g=qb(g);for(var j=0,k=d.length;j<k;j++)-1===rb(g).indexOf(rb(d[j]))&&(g+=" "+d[j]);b[f]=qb(g)},qb=function(a){return a.replace(G,"")},rb=function(a){return" "+a+" "},sb=Date.now||function(){return+new Date},tb=function(a,b){return a.frame-b.frame},zb=0,Ab=1,Db="down",Eb=-1,Fb=sb(),Gb=0,Hb=0,Ib=!1,Ob=0,Qb=!1,Rb=0,Tb=[];"function"===typeof define&&define.amd?define([],function(){return d}):"undefined"!==typeof module&&module.exports?module.exports=d:a.skrollr=d}(window,document);